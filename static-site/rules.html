<!DOCTYPE html>
<html>

<head>
    <title>House Rules Committee</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link inactive" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" button onclick="location.href='resources.html'">
                Resources
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" button onclick="location.href='rules.html'">
                Rules
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link inactive" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" button onclick="location.href='senate.html'">
                Senate Floor
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link inactive" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" button onclick="location.href='house.html'">
                House Floor
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link inactive" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" button onclick="location.href='legislation.html'">
                Signed Legislation
            </button>
        </li>
    </ul>
    <h1>Real-Time Releases from House Rules Committee<a href=#footnote1>*</a></h1>
    <div class="container">
        <script>
    $(document).ready(function() {
        $.ajax({
            url: "https://back-end.fly.dev/rules",
            method: "GET",
            success: function(data) {
				var dateFormat = new Intl.DateTimeFormat("en-US", {
					timeZone: "America/New_York",
					timeZoneName: "short"
				});
                // Parse the XML data and extract the content that you want to display
                var items = data.reverse(); // Reverse the order of items
                var html = "<ul>";
				for (var i = 0; i < items.length; i++) {
					var pubDate = new Date(items[i].pubDate);
					var timeZoneAbbreviation = pubDate.toLocaleTimeString("en-US", { timeZoneName: "short" }).split(' ')[2];
					html += "<li> (" + pubDate.toLocaleDateString() + ") " + "<a href=" + items[i].link + ">" + items[i].title + "</a>";
					html += "<p> Published at: " + pubDate.toLocaleTimeString() + " (" + timeZoneAbbreviation  + ") </li>";
					console.log(pubDate);
				}
				html += "</ul>"
				$(".container").html(html);
            }
        });
    });
</script>

    </div>
    <footer id="no-scroll">*This grabs data from the <a href="http://rules.house.gov"> House Rules Committee. </a>The committee pushes announcements for upcoming meetings and provides the bill for viewing before debating the rule.</footer>
    <script>
        setTimeout(function() {
            document.querySelector('footer').style.visibility = 'visible';
        }, 200);

    </script>
</body>

</html>
